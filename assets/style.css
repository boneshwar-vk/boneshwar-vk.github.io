:root {
  --bg: #0e1217;
  --panel: #141a22;
  --panel-alt: #171e27;
  --text: #e8eef7;
  --muted: #b7c3d9;
  --brand: #3aa0ff;
  --accent: #6ee7b7;
  --maxw: 980px;
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.25);
}

/* Global */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: linear-gradient(180deg, #0b0f14, #101720);
  color: var(--text);
}

/* Layout helpers */
.container { max-width: var(--maxw); margin: 0 auto; padding: 0 16px; }
.section { padding: 64px 16px; background: var(--panel); }
.section.alt { background: var(--panel-alt); }

/* Header / Sticky Nav */
#site-header {
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(8px);
}
#site-header .nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 12px 18px;
  background: rgba(10,14,20,.75);
  border-bottom: 1px solid #202938;
}
#site-header .brand {
  color: var(--text);
  text-decoration: none;
  font-weight: 800;
  letter-spacing: .3px;
}
#menu-toggle {
  display: none;
  background: none;
  border: 1px solid #273246;
  color: var(--text);
  padding: 6px 10px;
  border-radius: 8px;
}
#nav-links {
  display: flex;
  gap: 10px;
  list-style: none;
  margin: 0;
  padding: 0;
}
#nav-links a {
  color: var(--muted);
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 8px;
}
#nav-links a:hover,
#nav-links a.active {
  background: #1e2635;
  color: var(--text);
}

/* Hero */
.hero { padding-top: 80px; text-align: center; }
.avatar {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #243044;
  box-shadow: var(--shadow);
}
h1 { margin: 18px 0 8px; font-size: 2rem; }
h2 { margin: 0 0 18px; font-size: 1.6rem; }
h3 { margin: 18px 0 6px; }
.subtitle { color: var(--muted); margin: 0 0 14px; }
.section-lead { color: var(--muted); }

/* Icon chips */
.icons a {
  display: inline-block;
  margin: 0 6px;
  color: var(--text);
  text-decoration: none;
  padding: 6px 10px;
  border: 1px solid #2b3850;
  border-radius: 999px;
}

/* Embeds */
.embed-frame {
  height: 420px;
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
  background: #0c1118;
  border: 1px solid #223049;
}
.embed-frame iframe {
  width: 100%;
  height: 100%;
  border: none;
  background: #0c1118;
  color: var(--text);
}

/* Scrollable pane */
.scroll-pane {
  max-height: 420px;
  overflow: auto;
  padding: 18px;
  border: 1px solid #223049;
  border-radius: var(--radius);
  background: #0c1118;
  box-shadow: var(--shadow);
}
.pane-content p { line-height: 1.6; }

/* Lists */
.pub-list { padding-left: 18px; }
.pub-list li { margin: 8px 0; }
.flat-list { list-style: none; padding-left: 0; }
.flat-list li { margin: 10px 0; }

/* Cards grid */
.syllabi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 14px;
  margin-top: 12px;
}
.card {
  display: flex;
  flex-direction: column;
  text-decoration: none;
  color: var(--text);
  border: 1px solid #223049;
  border-radius: 12px;
  overflow: hidden;
  background: #0c1118;
}
.card img { width: 100%; height: 120px; object-fit: cover; }
.card span { padding: 10px; }

/* Links list */
.links { columns: 2; column-gap: 24px; }
.links li { break-inside: avoid; margin: 6px 0; }
.links a { color: var(--brand); }

/* Footer */
.footer {
  padding: 32px 16px;
  text-align: center;
  color: var(--muted);
  background: #0b1016;
  border-top: 1px solid #1b2536;
}

/* Publications page: PDF embed */
.pub-pdf {
  margin-top: 12px;
  border: 1px dashed #223049;
  border-radius: 10px;
  background: #0c1118;
  overflow: visible;
}
.pub-pdf iframe {
  display: block;
  width: 100%;
  height: 900px;
  min-height: 700px;
  border: none;
  background: #0c1118;
}
.pub-pdf .caption {
  font-size: .85rem;
  color: var(--muted);
  text-align: center;
  padding: 8px 10px 12px;
}

/* Abstract block */
.abstract-block {
  margin-top: 10px;
  padding: 12px;
  border: 1px solid #223049;
  border-radius: 10px;
  background: #0c1118;
}
.abstract-toggle {
  margin: 8px 0 10px;
  display: inline-block;
  font-size: .9rem;
  color: var(--brand);
  cursor: pointer;
  user-select: none;
}
.abstract-content { display: none; color: var(--text); line-height: 1.55; }
.abstract-content.open { display: block; }
.abstract-heading { font-weight: 700; margin: 0 0 6px; }

/* Experience/Projects */
.list-rows { display: flex; flex-direction: column; gap: 12px; }
.row {
  border: 1px solid #223049;
  border-radius: 12px;
  background: #0c1118;
  box-shadow: var(--shadow);
  padding: 18px;
  cursor: pointer;
  user-select: none;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.row:hover {
  box-shadow: 0 6px 20px rgba(0,0,0,.25);
  border-color: #2b3954;
}
.row-top { display: flex; align-items: flex-start; gap: 12px; }
.row-title {
  font-weight: 700;
  font-size: 1rem;
  margin: 0;
  color: var(--text);
  flex: 1 1 auto;
}
.row-time {
  flex: 0 0 auto;
  font-size: .9rem;
  color: var(--muted);
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 10px;
}
.chevron {
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 8px solid #7f8ba3;
  transition: transform .2s ease;
}
.row.open .chevron { transform: rotate(180deg); }
.row-desc {
  margin: 10px 0 0;
  color: #c8d3e6;
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.row-details {
  display: none;
  margin-top: 12px;
  color: #d7e0f1;
  line-height: 1.6;
  border-top: 1px dashed #2b3954;
  padding-top: 12px;
}
.row.open .row-details { display: block; }

/* Responsive */
@media (max-width: 860px) {
  #menu-toggle { display: inline-block; }
  #nav-links {
    display: none;
    position: absolute;
    right: 12px;
    top: 56px;
    flex-direction: column;
    background: #0b1118;
    border: 1px solid #223049;
    border-radius: 10px;
    padding: 8px;
    width: 240px;
  }
  #nav-links.open { display: flex; }
  .links { columns: 1; }
  .pub-pdf iframe { height: 600px; min-height: 520px; }
}
